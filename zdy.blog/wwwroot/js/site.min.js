/*! Lazy Load 1.9.7 - MIT license - Copyright 2010-2015 Mika Tuupola */
var _self,Prism,site;!function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var h,o=this,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1;(t.attr("src")===r||t.attr("src")===!1)&&t.is("img")&&t.attr("src",e.placeholder);t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var r=t.attr("data-"+e.data_attribute),u,f;t.hide();t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')");t[e.effect](e.effect_speed);i.loaded=!0;u=n.grep(o,function(n){return!n.loaded});(o=n(u),e.load)&&(f=o.length,e.load.call(i,f,e))}).attr("src",t.attr("data-"+e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this};n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold};n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold};n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()};n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()};n.inviewport=function(t,i){return!(n.rightoffold(t,i)||n.leftofbegin(t,i)||n.belowthefold(t,i)||n.abovethetop(t,i))};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document);!function(n,t,i,r){"use strict";function o(n){var r=n.currentTarget,f=n.data?n.data.options:{},t=f.selector?i(f.selector):n.data?n.data.items:[],e=i(r).attr("data-fancybox")||"",u=0,o=i.fancybox.getInstance();n.preventDefault();o&&o.current.opts.$orig.is(r)||(e?(t=t.length?t.filter('[data-fancybox="'+e+'"]'):i('[data-fancybox="'+e+'"]'),u=t.index(r),u<0&&(u=0)):t=[r],i.fancybox.open(t,f,u))}if(i){if(i.fn.fancybox)return void i.error("fancyBox already initialized");var c={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""><\/iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"><\/div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"><\/button><div class="fancybox-infobar__body"><span data-fancybox-index><\/span>&nbsp;/&nbsp;<span data-fancybox-count><\/span><\/div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"><\/button><\/div><div class="fancybox-toolbar">{{BUTTONS}}<\/div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /><\/div><div class="fancybox-stage"><\/div><div class="fancybox-caption-wrap"><div class="fancybox-caption"><\/div><\/div><\/div><\/div>',spinnerTpl:'<div class="fancybox-loading"><\/div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p><\/div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><\/button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><\/button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><\/button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><\/button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><\/button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,onActivate:i.noop,onDeactivate:i.noop,clickContent:function(n){return"image"===n.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(n){return"image"===n.type&&"toggleControls"},clickSlide:function(n){return"image"===n.type?"toggleControls":"close"},dblclickContent:function(n){return"image"===n.type&&"zoom"},dblclickSlide:function(n){return"image"===n.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},f=i(n),u=i(t),a=0,v=function(n){return n&&n.hasOwnProperty&&n instanceof i},l=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||function(t){return n.setTimeout(t,1e3/60)}}(),s=function(){var n,u=t.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in i)if(u.style[n]!==r)return i[n]}(),e=function(n){return n&&n.length&&n[0].offsetHeight},h=function(n,r,u){var f=this;f.opts=i.extend(!0,{index:u},c,r||{});r&&i.isArray(r.buttons)&&(f.opts.buttons=r.buttons);f.id=f.opts.id||++a;f.group=[];f.currIndex=parseInt(f.opts.index,10)||0;f.prevIndex=null;f.prevPos=null;f.currPos=0;f.firstRun=null;f.createGroup(n);f.group.length&&(f.$lastFocus=i(t.activeElement).blur(),f.slides={},f.init(n))};i.extend(h.prototype,{init:function(){var r,f,e,n=this,t=n.group[n.currIndex].opts;n.scrollTop=u.scrollTop();n.scrollLeft=u.scrollLeft();i.fancybox.getInstance()||i.fancybox.isMobile||"hidden"===i("body").css("overflow")||(r=i("body").width(),i("html").addClass("fancybox-enabled"),r=i("body").width()-r,r>1&&i("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+r+"px; }<\/style>"));e="";i.each(t.buttons,function(n,i){e+=t.btnTpl[i]||""});f=i(n.translate(n,t.baseTpl.replace("{{BUTTONS}}",e))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+n.id).addClass(t.baseClass).data("FancyBox",n).prependTo(t.parentEl);n.$refs={container:f};["bg","inner","infobar","toolbar","stage","caption"].forEach(function(t){n.$refs[t]=f.find(".fancybox-"+t)});(!t.arrows||n.group.length<2)&&f.find(".fancybox-navigation").remove();t.infobar||n.$refs.infobar.remove();t.toolbar||n.$refs.toolbar.remove();n.trigger("onInit");n.activate();n.jumpTo(n.currIndex)},translate:function(n,t){var i=n.opts.i18n[n.opts.lang];return t.replace(/\{\{(\w+)\}\}/g,function(n,t){var u=i[t];return u===r?n:u})},createGroup:function(n){var t=this,u=i.makeArray(n);i.each(u,function(n,u){var c,s,h,l,f={},o={},e=[];i.isPlainObject(u)?(f=u,o=u.opts||u):"object"===i.type(u)&&i(u).length?(c=i(u),e=c.data(),o="options"in e?e.options:{},o="object"===i.type(o)?o:{},f.src="src"in e?e.src:o.src||c.attr("href"),["width","height","thumb","type","filter"].forEach(function(n){n in e&&(o[n]=e[n])}),"srcset"in e&&(o.image={srcset:e.srcset}),o.$orig=c,f.type||f.src||(f.type="inline",f.src=u)):f={type:"html",src:u+""};f.opts=i.extend(!0,{},t.opts,o);i.fancybox.isMobile&&(f.opts=i.extend(!0,{},f.opts,f.opts.mobile));s=f.type||f.opts.type;h=f.src||"";!s&&h&&(h.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":h.match(/\.(pdf)((\?|#).*)?$/i)?s="pdf":"#"===h.charAt(0)&&(s="inline"));f.type=s;f.index=t.group.length;f.opts.$orig&&!f.opts.$orig.length&&delete f.opts.$orig;!f.opts.$thumb&&f.opts.$orig&&(f.opts.$thumb=f.opts.$orig.find("img:first"));f.opts.$thumb&&!f.opts.$thumb.length&&delete f.opts.$thumb;"function"===i.type(f.opts.caption)?f.opts.caption=f.opts.caption.apply(u,[t,f]):"caption"in e&&(f.opts.caption=e.caption);f.opts.caption=f.opts.caption===r?"":f.opts.caption+"";"ajax"===s&&(l=h.split(/\s+/,2),l.length>1&&(f.src=l.shift(),f.opts.filter=l.shift()));"auto"==f.opts.smallBtn&&(i.inArray(s,["html","inline","ajax"])>-1?(f.opts.toolbar=!1,f.opts.smallBtn=!0):f.opts.smallBtn=!1);"pdf"===s&&(f.type="iframe",f.opts.iframe.preload=!1);f.opts.modal&&(f.opts=i.extend(!0,f.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));t.group.push(f)})},addEvents:function(){var r=this;r.removeEvents();r.$refs.container.on("click.fb-close","[data-fancybox-close]",function(n){n.stopPropagation();n.preventDefault();r.close(n)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(n){n.stopPropagation();n.preventDefault();r.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(n){n.stopPropagation();n.preventDefault();r.next()});f.on("orientationchange.fb resize.fb",function(n){n&&n.originalEvent&&"resize"===n.originalEvent.type?l(function(){r.update()}):(r.$refs.stage.hide(),setTimeout(function(){r.$refs.stage.show();r.update()},500))});u.on("focusin.fb",function(n){var u=i.fancybox?i.fancybox.getInstance():null;u.isClosing||!u.current||!u.current.opts.trapFocus||i(n.target).hasClass("fancybox-container")||i(n.target).is(t)||u&&"fixed"!==i(n.target).css("position")&&!u.$refs.container.has(n.target).length&&(n.stopPropagation(),u.focus(),f.scrollTop(r.scrollTop).scrollLeft(r.scrollLeft))});u.on("keydown.fb",function(n){var u=r.current,t=n.keyCode||n.which;if(u&&u.opts.keyboard&&!i(n.target).is("input")&&!i(n.target).is("textarea"))return 8===t||27===t?(n.preventDefault(),void r.close(n)):37===t||38===t?(n.preventDefault(),void r.previous()):39===t||40===t?(n.preventDefault(),void r.next()):void r.trigger("afterKeydown",n,t)});r.group[r.currIndex].opts.idleTime&&(r.idleSecondsCounter=0,u.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){r.idleSecondsCounter=0;r.isIdle&&r.showControls();r.isIdle=!1}),r.idleInterval=n.setInterval(function(){r.idleSecondsCounter++;r.idleSecondsCounter>=r.group[r.currIndex].opts.idleTime&&(r.isIdle=!0,r.idleSecondsCounter=0,r.hideControls())},1e3))},removeEvents:function(){var t=this;f.off("orientationchange.fb resize.fb");u.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");t.idleInterval&&(n.clearInterval(t.idleInterval),t.idleInterval=null)},previous:function(n){return this.jumpTo(this.currPos-1,n)},next:function(n){return this.jumpTo(this.currPos+1,n)},jumpTo:function(n,t){var h,c,f,o,v,a,s,u=this,l=u.group.length;if(!(u.isSliding||u.isClosing||u.isAnimating&&u.firstRun)){if(n=parseInt(n,10),c=u.current?u.current.opts.loop:u.opts.loop,!c&&(n<0||n>=l))return!1;if(h=u.firstRun=null===u.firstRun,!(l<2&&!h&&u.isSliding)){if(o=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,f=u.createSlide(n),l>1&&((c||f.index>0)&&u.createSlide(n-1),(c||f.index<l-1)&&u.createSlide(n+1)),u.current=f,u.currIndex=f.index,u.currPos=f.pos,u.trigger("beforeShow",h),u.updateControls(),a=i.fancybox.getTranslate(f.$slide),f.isMoved=(0!==a.left||0!==a.top)&&!f.$slide.hasClass("fancybox-animated"),f.forcedDuration=r,i.isNumeric(t)?f.forcedDuration=t:t=f.opts[h?"animationDuration":"transitionDuration"],t=parseInt(t,10),h)return f.opts.animationEffect&&t&&u.$refs.container.css("transition-duration",t+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),e(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),f.$slide.addClass("fancybox-slide--current"),u.loadSlide(f),void u.preload();i.each(u.slides,function(n,t){i.fancybox.stop(t.$slide)});f.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");f.isMoved?(v=Math.round(f.$slide.width()),i.each(u.slides,function(n,r){var e=r.pos-f.pos;i.fancybox.animate(r.$slide,{top:0,left:e*v+e*r.opts.gutter},t,function(){r.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");r.pos===u.currPos&&(f.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style");f.isLoaded?u.revealContent(f):u.loadSlide(f);u.preload();o.pos!==f.pos&&(s="fancybox-slide--"+(o.pos>f.pos?"next":"previous"),o.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),o.isComplete=!1,t&&(f.isMoved||f.opts.transitionEffect)&&(f.isMoved?o.$slide.addClass(s):(s="fancybox-animated "+s+" fancybox-fx-"+f.opts.transitionEffect,i.fancybox.animate(o.$slide,s,t,function(){o.$slide.removeClass(s).removeAttr("style")}))))}}},createSlide:function(n){var u,r,t=this;return r=n%t.group.length,r=r<0?t.group.length+r:r,!t.slides[n]&&t.group[r]&&(u=i('<div class="fancybox-slide"><\/div>').appendTo(t.$refs.stage),t.slides[n]=i.extend(!0,{},t.group[r],{pos:n,$slide:u,isLoaded:!1}),t.updateSlide(t.slides[n])),t.slides[n]},scaleToActual:function(n,t,u){var l,e,o,y,p,f=this,s=f.current,w=s.$content,a=parseInt(s.$slide.width(),10),v=parseInt(s.$slide.height(),10),h=s.width,c=s.height;"image"!=s.type||s.hasError||!w||f.isAnimating||(i.fancybox.stop(w),f.isAnimating=!0,n=n===r?.5*a:n,t=t===r?.5*v:t,l=i.fancybox.getTranslate(w),y=h/l.width,p=c/l.height,e=.5*a-.5*h,o=.5*v-.5*c,h>a&&(e=l.left*y-(n*y-n),e>0&&(e=0),e<a-h&&(e=a-h)),c>v&&(o=l.top*p-(t*p-t),o>0&&(o=0),o<v-c&&(o=v-c)),f.updateCursor(h,c),i.fancybox.animate(w,{top:o,left:e,scaleX:y,scaleY:p},u||330,function(){f.isAnimating=!1}),f.SlideShow&&f.SlideShow.isActive&&f.SlideShow.stop())},scaleToFit:function(n){var t,r=this,f=r.current,u=f.$content;"image"!=f.type||f.hasError||!u||r.isAnimating||(i.fancybox.stop(u),r.isAnimating=!0,t=r.getFitPos(f),r.updateCursor(t.width,t.height),i.fancybox.animate(u,{top:t.top,left:t.left,scaleX:t.width/u.width(),scaleY:t.height/u.height()},n||330,function(){r.isAnimating=!1}))},getFitPos:function(n){var r,u,e,o,s,l=this,a=n.$content,h=n.width,c=n.height,t=n.opts.margin;return!(!a||!a.length||!h&&!c)&&("number"===i.type(t)&&(t=[t,t]),2==t.length&&(t=[t[0],t[1],t[0],t[1]]),f.width()<800&&(t=[0,0,0,0]),r=parseInt(l.$refs.stage.width(),10)-(t[1]+t[3]),u=parseInt(l.$refs.stage.height(),10)-(t[0]+t[2]),e=Math.min(1,r/h,u/c),o=Math.floor(e*h),s=Math.floor(e*c),{top:Math.floor(.5*(u-s))+t[0],left:Math.floor(.5*(r-o))+t[3],width:o,height:s})},update:function(){var n=this;i.each(n.slides,function(t,i){n.updateSlide(i)})},updateSlide:function(n){var t=this,r=n.$content;r&&(n.width||n.height)&&(i.fancybox.stop(r),i.fancybox.setTranslate(r,t.getFitPos(n)),n.pos===t.currPos&&t.updateCursor());n.$slide.trigger("refresh");t.trigger("onUpdate",n)},updateCursor:function(n,t){var f,i=this,u=i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");i.current&&!i.isClosing&&(i.isZoomable()?(u.addClass("fancybox-is-zoomable"),f=n!==r&&t!==r?n<i.current.width&&t<i.current.height:i.isScaledDown(),f?u.addClass("fancybox-can-zoomIn"):i.current.opts.touch?u.addClass("fancybox-can-drag"):u.addClass("fancybox-can-zoomOut")):i.current.opts.touch&&u.addClass("fancybox-can-drag"))},isZoomable:function(){var t,r=this,n=r.current;if(n&&!r.isClosing)return!!("image"===n.type&&n.isLoaded&&!n.hasError&&("zoom"===n.opts.clickContent||i.isFunction(n.opts.clickContent)&&"zoom"===n.opts.clickContent(n))&&(t=r.getFitPos(n),n.width>t.width||n.height>t.height))},isScaledDown:function(){var u=this,t=u.current,r=t.$content,n=!1;return r&&(n=i.fancybox.getTranslate(r),n=n.width<t.width||n.height<t.height),n},canPan:function(){var i=this,r=i.current,t=r.$content,n=!1;return t&&(n=i.getFitPos(r),n=Math.abs(t.width()-n.width)>1||Math.abs(t.height()-n.height)>1),n},loadSlide:function(n){var r,u,f,t=this;if(!n.isLoading&&!n.isLoaded){switch(n.isLoading=!0,t.trigger("beforeLoad",n),r=n.type,u=n.$slide,u.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(r||"unknown")).addClass(n.opts.slideClass),r){case"image":t.setImage(n);break;case"iframe":t.setIframe(n);break;case"html":t.setContent(n,n.src||n.content);break;case"inline":i(n.src).length?t.setContent(n,i(n.src)):t.setError(n);break;case"ajax":t.showLoading(n);f=i.ajax(i.extend({},n.opts.ajax.settings,{url:n.src,success:function(i,r){"success"===r&&t.setContent(n,i)},error:function(i,r){i&&"abort"!==r&&t.setError(n)}}));u.one("onReset",function(){f.abort()});break;default:t.setError(n)}return!0}},setImage:function(t){var r,u,s,h,e=this,c=t.opts.image.srcset,o,f;if(c){for(s=n.devicePixelRatio||1,h=n.innerWidth*s,u=c.split(",").map(function(n){var t={};return n.trim().split(/\s+/).forEach(function(n,i){var r=parseInt(n.substring(0,n.length-1),10);return 0===i?t.url=n:void(r&&(t.value=r,t.postfix=n[n.length-1]))}),t}),u.sort(function(n,t){return n.value-t.value}),o=0;o<u.length;o++)if(f=u[o],"w"===f.postfix&&f.value>=h||"x"===f.postfix&&f.value>=s){r=f;break}!r&&u.length&&(r=u[u.length-1]);r&&(t.src=r.url,t.width&&t.height&&"w"==r.postfix&&(t.height=t.width/t.height*r.value,t.width=r.value))}t.$content=i('<div class="fancybox-image-wrap"><\/div>').addClass("fancybox-is-hidden").appendTo(t.$slide);t.opts.preload!==!1&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=i("<img />").one("error",function(){i(this).remove();t.$ghost=null;e.setBigImage(t)}).one("load",function(){e.afterLoad(t);e.setBigImage(t)}).addClass("fancybox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):e.setBigImage(t)},setBigImage:function(n){var r=this,t=i("<img />");n.$image=t.one("error",function(){r.setError(n)}).one("load",function(){clearTimeout(n.timouts);n.timouts=null;r.isClosing||(n.width=this.naturalWidth,n.height=this.naturalHeight,n.opts.image.srcset&&t.attr("sizes","100vw").attr("srcset",n.opts.image.srcset),r.hideLoading(n),n.$ghost?n.timouts=setTimeout(function(){n.timouts=null;n.$ghost.hide()},Math.min(300,Math.max(1e3,n.height/1600))):r.afterLoad(n))}).addClass("fancybox-image").attr("src",n.src).appendTo(n.$content);(t[0].complete||"complete"==t[0].readyState)&&t[0].naturalWidth&&t[0].naturalHeight?t.trigger("load"):t[0].error?t.trigger("error"):n.timouts=setTimeout(function(){t[0].complete||n.hasError||r.showLoading(n)},100)},setIframe:function(n){var u,f=this,t=n.opts.iframe,e=n.$slide;n.$content=i('<div class="fancybox-content'+(t.preload?" fancybox-is-hidden":"")+'"><\/div>').css(t.css).appendTo(e);u=i(t.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(t.attr).appendTo(n.$content);t.preload?(f.showLoading(n),u.on("load.fb error.fb",function(){this.isReady=1;n.$slide.trigger("refresh");f.afterLoad(n)}),e.on("refresh.fb",function(){var s,h,f,i=n.$content,e=t.css.width,o=t.css.height;if(1===u[0].isReady){try{h=u.contents();f=h.find("body")}catch(n){}f&&f.length&&(e===r&&(s=u[0].contentWindow.document.documentElement.scrollWidth,e=Math.ceil(f.outerWidth(!0)+(i.width()-s)),e+=i.outerWidth()-i.innerWidth()),o===r&&(o=Math.ceil(f.outerHeight(!0)),o+=i.outerHeight()-i.innerHeight()),e&&i.width(e),o&&i.height(o));i.removeClass("fancybox-is-hidden")}})):this.afterLoad(n);u.attr("src",n.src);n.opts.smallBtn===!0&&n.$content.prepend(f.translate(n,n.opts.btnTpl.smallBtn));e.one("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank")}catch(n){}i(this).empty();n.isLoaded=!1})},setContent:function(n,t){var r=this;r.isClosing||(r.hideLoading(n),n.$slide.empty(),v(t)&&t.parent().length?(t.parent(".fancybox-slide--inline").trigger("onReset"),n.$placeholder=i("<div><\/div>").hide().insertAfter(t),t.css("display","inline-block")):n.hasError||("string"===i.type(t)&&(t=i("<div>").append(i.trim(t)).contents(),3===t[0].nodeType&&(t=i("<div>").html(t))),n.opts.filter&&(t=i("<div>").html(t).find(n.opts.filter))),n.$slide.one("onReset",function(){n.$placeholder&&(n.$placeholder.after(t.hide()).remove(),n.$placeholder=null);n.$smallBtn&&(n.$smallBtn.remove(),n.$smallBtn=null);n.hasError||(i(this).empty(),n.isLoaded=!1)}),n.$content=i(t).appendTo(n.$slide),n.opts.smallBtn&&!n.$smallBtn&&(n.$smallBtn=i(r.translate(n,n.opts.btnTpl.smallBtn)).appendTo(n.$content.filter("div").first())),this.afterLoad(n))},setError:function(n){n.hasError=!0;n.$slide.removeClass("fancybox-slide--"+n.type);this.setContent(n,this.translate(n,n.opts.errorTpl))},showLoading:function(n){var t=this;n=n||t.current;n&&!n.$spinner&&(n.$spinner=i(t.opts.spinnerTpl).appendTo(n.$slide))},hideLoading:function(n){var t=this;n=n||t.current;n&&n.$spinner&&(n.$spinner.remove(),delete n.$spinner)},afterLoad:function(n){var t=this;t.isClosing||(n.isLoading=!1,n.isLoaded=!0,t.trigger("afterLoad",n),t.hideLoading(n),n.opts.protect&&n.$content&&!n.hasError&&(n.$content.on("contextmenu.fb",function(n){return 2==n.button&&n.preventDefault(),!0}),"image"===n.type&&i('<div class="fancybox-spaceball"><\/div>').appendTo(n.$content)),t.revealContent(n))},revealContent:function(n){var f,l,o,c,u,t=this,h=n.$slide,s=!1;return f=n.opts[t.firstRun?"animationEffect":"transitionEffect"],o=n.opts[t.firstRun?"animationDuration":"transitionDuration"],o=parseInt(n.forcedDuration===r?o:n.forcedDuration,10),!n.isMoved&&n.pos===t.currPos&&o||(f=!1),"zoom"!==f||n.pos===t.currPos&&o&&"image"===n.type&&!n.hasError&&(s=t.getThumbPos(n))||(f="fade"),"zoom"===f?(u=t.getFitPos(n),u.scaleX=u.width/s.width,u.scaleY=u.height/s.height,delete u.width,delete u.height,c=n.opts.zoomOpacity,"auto"==c&&(c=Math.abs(n.width/n.height-s.width/s.height)>.1),c&&(s.opacity=.1,u.opacity=1),i.fancybox.setTranslate(n.$content.removeClass("fancybox-is-hidden"),s),e(n.$content),void i.fancybox.animate(n.$content,u,o,function(){t.complete()})):(t.updateSlide(n),f?(i.fancybox.stop(h),l="fancybox-animated fancybox-slide--"+(n.pos>t.prevPos?"next":"previous")+" fancybox-fx-"+f,h.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(l),n.$content.removeClass("fancybox-is-hidden"),e(h),void i.fancybox.animate(h,"fancybox-slide--current",o,function(){h.removeClass(l).removeAttr("style");n.pos===t.currPos&&t.complete()},!0)):(e(h),n.$content.removeClass("fancybox-is-hidden"),void(n.pos===t.currPos&&t.complete())))},getThumbPos:function(r){var f,s=this,o=!1,h=function(t){for(var f,u=t[0],r=u.getBoundingClientRect(),e=[];null!==u.parentElement;)"hidden"!==i(u.parentElement).css("overflow")&&"auto"!==i(u.parentElement).css("overflow")||e.push(u.parentElement.getBoundingClientRect()),u=u.parentElement;return f=e.every(function(n){var t=Math.min(r.right,n.right)-Math.max(r.left,n.left),i=Math.min(r.bottom,n.bottom)-Math.max(r.top,n.top);return t>0&&i>0}),f&&r.bottom>0&&r.right>0&&r.left<i(n).width()&&r.top<i(n).height()},u=r.opts.$thumb,e=u?u.offset():0;return e&&u[0].ownerDocument===t&&h(u)&&(f=s.$refs.stage.offset(),o={top:e.top-f.top+parseFloat(u.css("border-top-width")||0),left:e.left-f.left+parseFloat(u.css("border-left-width")||0),width:u.width(),height:u.height(),scaleX:1,scaleY:1}),o},complete:function(){var r=this,n=r.current,u={};n.isMoved||!n.isLoaded||n.isComplete||(n.isComplete=!0,n.$slide.siblings().trigger("onReset"),e(n.$slide),n.$slide.addClass("fancybox-slide--complete"),i.each(r.slides,function(n,t){t.pos>=r.currPos-1&&t.pos<=r.currPos+1?u[t.pos]=t:t&&(i.fancybox.stop(t.$slide),t.$slide.off().remove())}),r.slides=u,r.updateCursor(),r.trigger("afterShow"),(i(t.activeElement).is("[disabled]")||n.opts.autoFocus&&"image"!=n.type&&"iframe"!==n.type)&&r.focus())},preload:function(){var t,i,n=this;n.group.length<2||(t=n.slides[n.currPos+1],i=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),i&&"image"===i.type&&n.loadSlide(i))},focus:function(){var n,t=this.current;this.isClosing||(t&&t.isComplete&&(n=t.$slide.find("input[autofocus]:enabled:visible:first"),n.length||(n=t.$slide.find("button,:input,[tabindex],a").filter(":enabled:visible:first"))),n=n&&n.length?n:this.$refs.container,n.focus())},activate:function(){var n=this;i(".fancybox-container").each(function(){var t=i(this).data("FancyBox");t&&t.uid!==n.uid&&!t.isClosing&&t.trigger("onDeactivate")});n.current&&(n.$refs.container.index()>0&&n.$refs.container.prependTo(t.body),n.updateControls());n.trigger("onActivate");n.addEvents()},close:function(n,t){var o,h,c,a,u,e,f=this,r=f.current,v=function(){f.cleanUp(n)};return!f.isClosing&&(f.isClosing=!0,f.trigger("beforeClose",n)===!1?(f.isClosing=!1,l(function(){f.update()}),!1):(f.removeEvents(),r.timouts&&clearTimeout(r.timouts),c=r.$content,o=r.opts.animationEffect,h=i.isNumeric(t)?t:o?r.opts.animationDuration:0,r.$slide.off(s).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),r.$slide.siblings().trigger("onReset").remove(),h&&f.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),f.hideLoading(r),f.hideControls(),f.updateCursor(),"zoom"!==o||n!==!0&&c&&h&&"image"===r.type&&!r.hasError&&(e=f.getThumbPos(r))||(o="fade"),"zoom"===o?(i.fancybox.stop(c),u=i.fancybox.getTranslate(c),u.width=u.width*u.scaleX,u.height=u.height*u.scaleY,a=r.opts.zoomOpacity,"auto"==a&&(a=Math.abs(r.width/r.height-e.width/e.height)>.1),a&&(e.opacity=0),u.scaleX=u.width/e.width,u.scaleY=u.height/e.height,u.width=e.width,u.height=e.height,i.fancybox.setTranslate(r.$content,u),i.fancybox.animate(r.$content,e,h,v),!0):(o&&h?n===!0?setTimeout(v,h):i.fancybox.animate(r.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,h,v):v(),!0)))},cleanUp:function(n){var r,t=this;t.current.$slide.trigger("onReset");t.$refs.container.empty().remove();t.trigger("afterClose",n);t.$lastFocus&&t.current.opts.backFocus&&t.$lastFocus.focus();t.current=null;r=i.fancybox.getInstance();r?r.activate():(f.scrollTop(t.scrollTop).scrollLeft(t.scrollLeft),i("html").removeClass("fancybox-enabled"),i("#fancybox-style-noscroll").remove())},trigger:function(n,t){var o,f=Array.prototype.slice.call(arguments,1),e=this,r=t&&t.opts?t:e.current;return r?f.unshift(r):r=e,f.unshift(e),i.isFunction(r.opts[n])&&(o=r.opts[n].apply(r,f)),o===!1?o:void("afterClose"===n?u.trigger(n+".fb",f):e.$refs.container.trigger(n+".fb",f))},updateControls:function(){var n=this,t=n.current,r=t.index,u=t.opts,f=u.caption,e=n.$refs.caption;t.$slide.trigger("refresh");n.$caption=f&&f.length?e.html(f):null;n.isHiddenControls||n.showControls();i("[data-fancybox-count]").html(n.group.length);i("[data-fancybox-index]").html(r+1);i("[data-fancybox-prev]").prop("disabled",!u.loop&&r<=0);i("[data-fancybox-next]").prop("disabled",!u.loop&&r>=n.group.length-1)},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var n=this,t=n.current?n.current.opts:n.opts,i=n.$refs.container;n.isHiddenControls=!1;n.idleSecondsCounter=0;i.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&n.group.length>1)).toggleClass("fancybox-show-nav",!!(t.arrows&&n.group.length>1)).toggleClass("fancybox-is-modal",!!t.modal);n.$caption?i.addClass("fancybox-show-caption "):i.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}});i.fancybox={version:"3.1.28",defaults:c,getInstance:function(n){var t=i('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),r=Array.prototype.slice.call(arguments,1);return t instanceof h&&("string"===i.type(n)?t[n].apply(t,r):"function"===i.type(n)&&n.apply(t,r),t)},open:function(n,t,i){return new h(n,t,i)},close:function(n){var t=this.getInstance();t&&(t.close(),n===!0&&this.close())},destroy:function(){this.close(!0);u.off("click.fb-start")},isMobile:t.createTouch!==r&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var i=t.createElement("div");return n.getComputedStyle&&n.getComputedStyle(i).getPropertyValue("transform")&&!(t.documentMode&&t.documentMode<11)}(),getTranslate:function(n){var t,r,i;return!n||!n.length?!1:((t=n.eq(0).css("transform"),t&&t.indexOf("matrix")!==-1?(t=t.split("(")[1],t=t.split(")")[0],t=t.split(",")):t=[],t.length)?(t=t.length>10?[t[13],t[12],t[0],t[5]]:[t[5],t[4],t[0],t[3]],t=t.map(parseFloat)):(t=[0,0,1,1],r=/\.*translate\((.*)px,(.*)px\)/i,i=r.exec(n.eq(0).attr("style")),i&&(t[0]=parseFloat(i[2]),t[1]=parseFloat(i[1]))),{top:t[0],left:t[1],scaleX:t[2],scaleY:t[3],opacity:parseFloat(n.css("opacity")),width:n.width(),height:n.height()})},setTranslate:function(n,t){var i="",u={};if(n&&t)return t.left===r&&t.top===r||(i=(t.left===r?n.position().left:t.left)+"px, "+(t.top===r?n.position().top:t.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),t.scaleX!==r&&t.scaleY!==r&&(i=(i.length?i+" ":"")+"scale("+t.scaleX+", "+t.scaleY+")"),i.length&&(u.transform=i),t.opacity!==r&&(u.opacity=t.opacity),t.width!==r&&(u.width=t.width),t.height!==r&&(u.height=t.height),n.css(u)},animate:function(n,t,u,f,e){var o=s||"transitionend";i.isFunction(u)&&(f=u,u=null);i.isPlainObject(t)||n.removeAttr("style");n.on(o,function(u){u&&u.originalEvent&&(!n.is(u.originalEvent.target)||"z-index"==u.originalEvent.propertyName)||(n.off(o),i.isPlainObject(t)?t.scaleX!==r&&t.scaleY!==r&&(n.css("transition-duration","0ms"),t.width=Math.round(n.width()*t.scaleX),t.height=Math.round(n.height()*t.scaleY),t.scaleX=1,t.scaleY=1,i.fancybox.setTranslate(n,t)):e!==!0&&n.removeClass(t),i.isFunction(f)&&f(u))});i.isNumeric(u)&&n.css("transition-duration",u+"ms");i.isPlainObject(t)?i.fancybox.setTranslate(n,t):n.addClass(t);n.data("timer",setTimeout(function(){n.trigger("transitionend")},u+16))},stop:function(n){clearTimeout(n.data("timer"));n.off(s)}};i.fn.fancybox=function(n){var t;return n=n||{},t=n.selector||!1,t?i("body").off("click.fb-start",t).on("click.fb-start",t,{options:n},o):this.off("click.fb-start").on("click.fb-start",{items:this,options:n},o),this};u.on("click.fb-start","[data-fancybox]",o)}}(window,document,window.jQuery||jQuery),function(n){"use strict";var t=function(t,i,r){if(t)return r=r||"","object"===n.type(r)&&(r=n.param(r,!0)),n.each(i,function(n,i){t=t.replace("$"+n,i||"")}),r.length&&(t+=(t.indexOf("?")>0?"&":"?")+r),t},i={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(n){return"//maps.google."+n[2]+"/?ll="+(n[9]?n[9]+"&z="+Math.floor(n[10])+(n[12]?n[12].replace(/^\//,"&"):""):n[12])+"&output="+(n[12]&&n[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(n){return"//maps.google."+n[2]+"/maps?q="+n[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};n(document).on("onInit.fb",function(r,u){n.each(u.group,function(r,u){var a,v,f,h,e,l,o,s=u.src||"",c=!1;u.type||(a=n.extend(!0,{},i,u.opts.media),n.each(a,function(i,r){var a,y;if(f=s.match(r.matcher),l={},o=i,f){if(c=r.type,r.paramPlace&&f[r.paramPlace])for(e=f[r.paramPlace],"?"==e[0]&&(e=e.substring(1)),e=e.split("&"),a=0;a<e.length;++a)y=e[a].split("=",2),2==y.length&&(l[y[0]]=decodeURIComponent(y[1].replace(/\+/g," ")));return h=n.extend(!0,{},r.params,u.opts[i],l),s="function"===n.type(r.url)?r.url.call(this,f,h,u):t(r.url,f,h),v="function"===n.type(r.thumb)?r.thumb.call(this,f,h,u):t(r.thumb,f),"vimeo"===o&&(s=s.replace("&%23","#")),!1}}),c?(u.src=s,u.type=c,u.opts.thumb||u.opts.$thumb&&u.opts.$thumb.length||(u.opts.thumb=v),"iframe"===c&&(n.extend(!0,u.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),u.contentProvider=o,u.opts.slideClass+=" fancybox-slide--"+("gmap_place"==o||"gmap_search"==o?"map":"video"))):u.type="image")})})}(window.jQuery),function(n,t,i){"use strict";var s=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||function(t){return n.setTimeout(t,1e3/60)}}(),f=function(){return n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||function(t){n.clearTimeout(t)}}(),e=function(t){var r=[],i;t=t.originalEvent||t||n.e;t=t.touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t];for(i in t)t[i].pageX?r.push({x:t[i].pageX,y:t[i].pageY}):t[i].clientX&&r.push({x:t[i].clientX,y:t[i].clientY});return r},u=function(n,t,i){return t&&n?"x"===i?n.x-t.x:"y"===i?n.y-t.y:Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)):0},h=function(n){if(n.is("a,button,input,select,textarea,label")||i.isFunction(n.get(0).onclick)||n.data("selectable"))return!0;for(var t=0,r=n[0].attributes,u=r.length;t<u;t++)if("data-fancybox-"===r[t].nodeName.substr(0,14))return!0;return!1},c=function(t){var i=n.getComputedStyle(t)["overflow-y"],r=n.getComputedStyle(t)["overflow-x"],u=("scroll"===i||"auto"===i)&&t.scrollHeight>t.clientHeight,f=("scroll"===r||"auto"===r)&&t.scrollWidth>t.clientWidth;return u||f},o=function(n){for(var t=!1;;){if(t=c(n.get(0)))break;if(n=n.parent(),!n.length||n.hasClass("fancybox-stage")||n.is("body"))break}return t},r=function(n){var t=this;t.instance=n;t.$bg=n.$refs.bg;t.$stage=n.$refs.stage;t.$container=n.$refs.container;t.destroy();t.$container.on("touchstart.fb.touch mousedown.fb.touch",i.proxy(t,"ontouchstart"))};r.prototype.destroy=function(){this.$container.off(".fb.touch")};r.prototype.ontouchstart=function(r){var f=this,s=i(r.target),l=f.instance,c=l.current,v=c.$content,a="touchstart"==r.type;if(a&&f.$container.off("mousedown.fb.touch"),!c||f.instance.isAnimating||f.instance.isClosing)return r.stopPropagation(),void r.preventDefault();if((!r.originalEvent||2!=r.originalEvent.button)&&s.length&&!h(s)&&!h(s.parent())&&!(r.originalEvent.clientX>s[0].clientWidth+s.offset().left)&&(f.startPoints=e(r),f.startPoints&&!(f.startPoints.length>1&&l.isSliding))){if(f.$target=s,f.$content=v,f.canTap=!0,i(t).off(".fb.touch"),i(t).on(a?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",i.proxy(f,"ontouchend")),i(t).on(a?"touchmove.fb.touch":"mousemove.fb.touch",i.proxy(f,"ontouchmove")),!l.current.opts.touch&&!l.canPan()||!s.is(f.$stage)&&!f.$stage.find(s).length)return void(s.is("img")&&r.preventDefault());r.stopPropagation();i.fancybox.isMobile&&(o(f.$target)||o(f.$target.parent()))||r.preventDefault();f.canvasWidth=Math.round(c.$slide[0].clientWidth);f.canvasHeight=Math.round(c.$slide[0].clientHeight);f.startTime=(new Date).getTime();f.distanceX=f.distanceY=f.distance=0;f.isPanning=!1;f.isSwiping=!1;f.isZooming=!1;f.sliderStartPos=f.sliderLastPos||{top:0,left:0};f.contentStartPos=i.fancybox.getTranslate(f.$content);f.contentLastPos=null;1!==f.startPoints.length||f.isZooming||(f.canTap=!l.isSliding,"image"===c.type&&(f.contentStartPos.width>f.canvasWidth+1||f.contentStartPos.height>f.canvasHeight+1)?(i.fancybox.stop(f.$content),f.$content.css("transition-duration","0ms"),f.isPanning=!0):f.isSwiping=!0,f.$container.addClass("fancybox-controls--isGrabbing"));2!==f.startPoints.length||l.isAnimating||c.hasError||"image"!==c.type||!c.isLoaded&&!c.$ghost||(f.isZooming=!0,f.isSwiping=!1,f.isPanning=!1,i.fancybox.stop(f.$content),f.$content.css("transition-duration","0ms"),f.centerPointStartX=.5*(f.startPoints[0].x+f.startPoints[1].x)-i(n).scrollLeft(),f.centerPointStartY=.5*(f.startPoints[0].y+f.startPoints[1].y)-i(n).scrollTop(),f.percentageOfImageAtPinchPointX=(f.centerPointStartX-f.contentStartPos.left)/f.contentStartPos.width,f.percentageOfImageAtPinchPointY=(f.centerPointStartY-f.contentStartPos.top)/f.contentStartPos.height,f.startDistanceBetweenFingers=u(f.startPoints[0],f.startPoints[1]))}};r.prototype.ontouchmove=function(n){var t=this;if(t.newPoints=e(n),i.fancybox.isMobile&&(o(t.$target)||o(t.$target.parent())))return n.stopPropagation(),void(t.canTap=!1);if((t.instance.current.opts.touch||t.instance.canPan())&&t.newPoints&&t.newPoints.length&&(t.distanceX=u(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=u(t.newPoints[0],t.startPoints[0],"y"),t.distance=u(t.newPoints[0],t.startPoints[0]),t.distance>0)){if(!t.$target.is(t.$stage)&&!t.$stage.find(t.$target).length)return;n.stopPropagation();n.preventDefault();t.isSwiping?t.onSwipe():t.isPanning?t.onPan():t.isZooming&&t.onZoom()}};r.prototype.onSwipe=function(){var u,t=this,e=t.isSwiping,r=t.sliderStartPos.left||0;e===!0?Math.abs(t.distance)>10&&(t.canTap=!1,t.instance.group.length<2&&t.instance.opts.touch.vertical?t.isSwiping="y":t.instance.isSliding||t.instance.opts.touch.vertical===!1||"auto"===t.instance.opts.touch.vertical&&i(n).width()>800?t.isSwiping="x":(u=Math.abs(180*Math.atan2(t.distanceY,t.distanceX)/Math.PI),t.isSwiping=u>45&&u<135?"y":"x"),t.instance.isSliding=t.isSwiping,t.startPoints=t.newPoints,i.each(t.instance.slides,function(n,r){i.fancybox.stop(r.$slide);r.$slide.css("transition-duration","0ms");r.inTransition=!1;r.pos===t.instance.current.pos&&(t.sliderStartPos.left=i.fancybox.getTranslate(r.$slide).left)}),t.instance.SlideShow&&t.instance.SlideShow.isActive&&t.instance.SlideShow.stop()):("x"==e&&(t.distanceX>0&&(t.instance.group.length<2||0===t.instance.current.index&&!t.instance.current.opts.loop)?r+=Math.pow(t.distanceX,.8):t.distanceX<0&&(t.instance.group.length<2||t.instance.current.index===t.instance.group.length-1&&!t.instance.current.opts.loop)?r-=Math.pow(-t.distanceX,.8):r+=t.distanceX),t.sliderLastPos={top:"x"==e?0:t.sliderStartPos.top+t.distanceY,left:r},t.requestId&&(f(t.requestId),t.requestId=null),t.requestId=s(function(){t.sliderLastPos&&(i.each(t.instance.slides,function(n,r){var u=r.pos-t.instance.currPos;i.fancybox.setTranslate(r.$slide,{top:t.sliderLastPos.top,left:t.sliderLastPos.left+u*t.canvasWidth+u*r.opts.gutter})}),t.$container.addClass("fancybox-is-sliding"))}))};r.prototype.onPan=function(){var r,u,t,n=this;n.canTap=!1;r=n.contentStartPos.width>n.canvasWidth?n.contentStartPos.left+n.distanceX:n.contentStartPos.left;u=n.contentStartPos.top+n.distanceY;t=n.limitMovement(r,u,n.contentStartPos.width,n.contentStartPos.height);t.scaleX=n.contentStartPos.scaleX;t.scaleY=n.contentStartPos.scaleY;n.contentLastPos=t;n.requestId&&(f(n.requestId),n.requestId=null);n.requestId=s(function(){i.fancybox.setTranslate(n.$content,n.contentLastPos)})};r.prototype.limitMovement=function(n,t,i,r){var f,e,o,s,u=this,h=u.canvasWidth,c=u.canvasHeight,v=u.contentStartPos.left,y=u.contentStartPos.top,l=u.distanceX,a=u.distanceY;return f=Math.max(0,.5*h-.5*i),e=Math.max(0,.5*c-.5*r),o=Math.min(h-i,.5*h-.5*i),s=Math.min(c-r,.5*c-.5*r),i>h&&(l>0&&n>f&&(n=f-1+Math.pow(-f+v+l,.8)||0),l<0&&n<o&&(n=o+1-Math.pow(o-v-l,.8)||0)),r>c&&(a>0&&t>e&&(t=e-1+Math.pow(-e+y+a,.8)||0),a<0&&t<s&&(t=s+1-Math.pow(s-y-a,.8)||0)),{top:t,left:n}};r.prototype.limitPosition=function(n,t,i,r){var e=this,u=e.canvasWidth,f=e.canvasHeight;return i>u?(n=n>0?0:n,n=n<u-i?u-i:n):n=Math.max(0,u/2-i/2),r>f?(t=t>0?0:t,t=t<f-r?f-r:t):t=Math.max(0,f/2-r/2),{top:t,left:n}};r.prototype.onZoom=function(){var t=this,e=t.contentStartPos.width,o=t.contentStartPos.height,l=t.contentStartPos.left,a=t.contentStartPos.top,v=u(t.newPoints[0],t.newPoints[1]),r=v/t.startDistanceBetweenFingers,h=Math.floor(e*r),c=Math.floor(o*r),y=(e-h)*t.percentageOfImageAtPinchPointX,p=(o-c)*t.percentageOfImageAtPinchPointY,w=(t.newPoints[0].x+t.newPoints[1].x)/2-i(n).scrollLeft(),b=(t.newPoints[0].y+t.newPoints[1].y)/2-i(n).scrollTop(),k=w-t.centerPointStartX,d=b-t.centerPointStartY,g=l+(y+k),nt=a+(p+d),tt={top:nt,left:g,scaleX:t.contentStartPos.scaleX*r,scaleY:t.contentStartPos.scaleY*r};t.canTap=!1;t.newWidth=h;t.newHeight=c;t.contentLastPos=tt;t.requestId&&(f(t.requestId),t.requestId=null);t.requestId=s(function(){i.fancybox.setTranslate(t.$content,t.contentLastPos)})};r.prototype.ontouchend=function(n){var r=this,u=Math.max((new Date).getTime()-r.startTime,1),o=r.isSwiping,s=r.isPanning,h=r.isZooming;return r.endPoints=e(n),r.$container.removeClass("fancybox-controls--isGrabbing"),i(t).off(".fb.touch"),r.requestId&&(f(r.requestId),r.requestId=null),r.isSwiping=!1,r.isPanning=!1,r.isZooming=!1,r.canTap?r.onTap(n):(r.speed=366,r.velocityX=r.distanceX/u*.5,r.velocityY=r.distanceY/u*.5,r.speedX=Math.max(.5*r.speed,Math.min(1.5*r.speed,1/Math.abs(r.velocityX)*r.speed)),void(s?r.endPanning():h?r.endZooming():r.endSwiping(o)))};r.prototype.endSwiping=function(n){var t=this,r=!1;t.instance.isSliding=!1;t.sliderLastPos=null;"y"==n&&Math.abs(t.distanceY)>50?(i.fancybox.animate(t.instance.current.$slide,{top:t.sliderStartPos.top+t.distanceY+150*t.velocityY,opacity:0},150),r=t.instance.close(!0,300)):"x"==n&&t.distanceX>50&&t.instance.group.length>1?r=t.instance.previous(t.speedX):"x"==n&&t.distanceX<-50&&t.instance.group.length>1&&(r=t.instance.next(t.speedX));r!==!1||"x"!=n&&"y"!=n||t.instance.jumpTo(t.instance.current.index,150);t.$container.removeClass("fancybox-is-sliding")};r.prototype.endPanning=function(){var r,u,t,n=this;n.contentLastPos&&(n.instance.current.opts.touch.momentum===!1?(r=n.contentLastPos.left,u=n.contentLastPos.top):(r=n.contentLastPos.left+n.velocityX*n.speed,u=n.contentLastPos.top+n.velocityY*n.speed),t=n.limitPosition(r,u,n.contentStartPos.width,n.contentStartPos.height),t.width=n.contentStartPos.width,t.height=n.contentStartPos.height,i.fancybox.animate(n.$content,t,330))};r.prototype.endZooming=function(){var u,f,e,o,n=this,s=n.instance.current,t=n.newWidth,r=n.newHeight;n.contentLastPos&&(u=n.contentLastPos.left,f=n.contentLastPos.top,o={top:f,left:u,width:t,height:r,scaleX:1,scaleY:1},i.fancybox.setTranslate(n.$content,o),t<n.canvasWidth&&r<n.canvasHeight?n.instance.scaleToFit(150):t>s.width||r>s.height?n.instance.scaleToActual(n.centerPointStartX,n.centerPointStartY,150):(e=n.limitPosition(u,f,t,r),i.fancybox.setTranslate(n.content,i.fancybox.getTranslate(n.$content)),i.fancybox.animate(n.$content,e,150)))};r.prototype.onTap=function(n){var u,r=this,o=i(n.target),t=r.instance,f=t.current,s=n&&e(n)||r.startPoints,h=s[0]?s[0].x-r.$stage.offset().left:0,c=s[0]?s[0].y-r.$stage.offset().top:0,l=function(u){var e=f.opts[u];if(i.isFunction(e)&&(e=e.apply(t,[f,n])),e)switch(e){case"close":t.close(r.startEvent);break;case"toggleControls":t.toggleControls(!0);break;case"next":t.next();break;case"nextOrClose":t.group.length>1?t.next():t.close(r.startEvent);break;case"zoom":"image"==f.type&&(f.isLoaded||f.$ghost)&&(t.canPan()?t.scaleToFit():t.isScaledDown()?t.scaleToActual(h,c):t.group.length<2&&t.close(r.startEvent))}};if(!(n.originalEvent&&2==n.originalEvent.button||t.isSliding||h>o[0].clientWidth+o.offset().left)){if(o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))u="Outside";else if(o.is(".fancybox-slide"))u="Slide";else{if(!t.current.$content||!t.current.$content.has(n.target).length)return;u="Content"}if(r.tapped){if(clearTimeout(r.tapped),r.tapped=null,Math.abs(h-r.tapX)>50||Math.abs(c-r.tapY)>50||t.isSliding)return this;l("dblclick"+u)}else r.tapX=h,r.tapY=c,f.opts["dblclick"+u]&&f.opts["dblclick"+u]!==f.opts["click"+u]?r.tapped=setTimeout(function(){r.tapped=null;l("click"+u)},300):l("click"+u);return this}};i(t).on("onActivate.fb",function(n,t){t&&!t.Guestures&&(t.Guestures=new r(t))});i(t).on("beforeClose.fb",function(n,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,window.jQuery),function(n,t){"use strict";var i=function(n){this.instance=n;this.init()};t.extend(i.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var n=this;n.$button=n.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){n.toggle()});(n.instance.group.length<2||!n.instance.group[n.instance.currIndex].opts.slideShow)&&n.$button.hide()},set:function(){var n=this;n.instance&&n.instance.current&&(n.instance.current.opts.loop||n.instance.currIndex<n.instance.group.length-1)?n.timer=setTimeout(function(){n.instance.next()},n.instance.current.opts.slideShow.speed||n.speed):(n.stop(),n.instance.idleSecondsCounter=0,n.instance.showControls())},clear:function(){var n=this;clearTimeout(n.timer);n.timer=null},start:function(){var n=this,t=n.instance.current;n.instance&&t&&(t.opts.loop||t.index<n.instance.group.length-1)&&(n.isActive=!0,n.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),t.isComplete&&n.set())},stop:function(){var n=this,t=n.instance.current;n.clear();n.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause");n.isActive=!1},toggle:function(){var n=this;n.isActive?n.stop():n.start()}});t(n).on({"onInit.fb":function(n,t){t&&!t.SlideShow&&(t.SlideShow=new i(t))},"beforeShow.fb":function(n,t,i,r){var u=t&&t.SlideShow;r?u&&i.opts.slideShow.autoStart&&u.start():u&&u.isActive&&u.clear()},"afterShow.fb":function(n,t){var i=t&&t.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(i,r,u,f,e){var o=r&&r.SlideShow;o&&u.opts.slideShow&&(80===e||32===e)&&!t(n.activeElement).is("button,a,input")&&(f.preventDefault(),o.toggle())},"beforeClose.fb onDeactivate.fb":function(n,t){var i=t&&t.SlideShow;i&&i.stop()}});t(n).on("visibilitychange",function(){var r=t.fancybox.getInstance(),i=r&&r.SlideShow;i&&i.isActive&&(n.hidden?i.clear():i.set())})}(document,window.jQuery),function(n,t){"use strict";var i=function(){for(var t,i,u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],f={},r=0;r<u.length;r++)if(t=u[r],t&&t[1]in n){for(i=0;i<t.length;i++)f[u[0][i]]=t[i];return f}return!1}(),r;if(!i)return void(t&&t.fancybox&&(t.fancybox.defaults.btnTpl.fullScreen=!1));r={request:function(t){t=t||n.documentElement;t[i.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){n[i.exitFullscreen]()},toggle:function(t){t=t||n.documentElement;this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(n[i.fullscreenElement])},enabled:function(){return Boolean(n[i.fullscreenEnabled])}};t(n).on({"onInit.fb":function(n,t){var i,u=t.$refs.toolbar.find("[data-fancybox-fullscreen]");t&&!t.FullScreen&&t.group[t.currIndex].opts.fullScreen?(i=t.$refs.container,i.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(n){n.stopPropagation();n.preventDefault();r.toggle(i[0])}),t.opts.fullScreen&&t.opts.fullScreen.autoStart===!0&&r.request(i[0]),t.FullScreen=r):u.hide()},"afterKeydown.fb":function(n,t,i,r,u){t&&t.FullScreen&&70===u&&(r.preventDefault(),t.FullScreen.toggle(t.$refs.container[0]))},"beforeClose.fb":function(n){n&&n.FullScreen&&r.exit()}});t(n).on(i.fullscreenchange,function(){var n=t.fancybox.getInstance();n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0));n.trigger("onFullscreenChange",r.isFullscreen())})}(document,window.jQuery),function(n,t){"use strict";var i=function(n){this.instance=n;this.init()};t.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var n=this,t=n.instance.group[0],i=n.instance.group[1];n.$button=n.instance.$refs.toolbar.find("[data-fancybox-thumbs]");n.instance.group.length>1&&n.instance.group[n.instance.currIndex].opts.thumbs&&("image"==t.type||t.opts.thumb||t.opts.$thumb)&&("image"==i.type||i.opts.thumb||i.opts.$thumb)?(n.$button.on("click",function(){n.toggle()}),n.isActive=!0):(n.$button.hide(),n.isActive=!1)},create:function(){var i,n,r=this.instance;this.$grid=t('<div class="fancybox-thumbs"><\/div>').appendTo(r.$refs.container);i="<ul>";t.each(r.group,function(t,r){n=r.opts.thumb||(r.opts.$thumb?r.opts.$thumb.attr("src"):null);n||"image"!==r.type||(n=r.src);n&&n.length&&(i+='<li data-index="'+t+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /><\/li>')});i+="<\/ul>";this.$list=t(i).appendTo(this.$grid).on("click","li",function(){r.jumpTo(t(this).data("index"))});this.$list.find("img").hide().one("load",function(){var n,i,r,u,o=t(this).parent().removeClass("fancybox-thumbs-loading"),f=o.outerWidth(),e=o.outerHeight();n=this.naturalWidth||this.width;i=this.naturalHeight||this.height;r=n/f;u=i/e;r>=1&&u>=1&&(r>u?(n/=u,i=e):(n=f,i/=r));t(this).css({width:Math.floor(n),height:Math.floor(i),"margin-top":Math.min(0,Math.floor(.3*e-.3*i)),"margin-left":Math.min(0,Math.floor(.5*f-.5*n))}).show()}).each(function(){this.src=t(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});t(n).on({"onInit.fb":function(n,t){t&&!t.Thumbs&&(t.Thumbs=new i(t))},"beforeShow.fb":function(n,t,i,r){var u=t&&t.Thumbs;if(u&&u.isActive){if(i.modal)return u.$button.hide(),void u.hide();r&&i.opts.thumbs.autoStart===!0&&u.show();u.isVisible&&u.focus()}},"afterKeydown.fb":function(n,t,i,r,u){var f=t&&t.Thumbs;f&&f.isActive&&71===u&&(r.preventDefault(),f.toggle())},"beforeClose.fb":function(n,t){var i=t&&t.Thumbs;i&&i.isVisible&&t.opts.thumbs.hideOnClose!==!1&&i.close()}})}(document,window.jQuery),function(n,t,i){"use strict";function f(){var r=t.location.hash.substr(1),n=r.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,u=n.join("-");return i<1&&(i=1),{hash:r,index:i,gallery:u}}function s(n){var t;""!==n.gallery&&(t=i("[data-fancybox='"+i.escapeSelector(n.gallery)+"']").eq(n.index-1),t.length||(t=i("#"+i.escapeSelector(n.gallery))),t.length&&(o=!1,t.trigger("click")))}function e(n){var t;return!!n&&(t=n.current?n.current.opts:n.opts,t.hash||(t.$orig?t.$orig.data("fancybox"):""))}i.escapeSelector||(i.escapeSelector=function(n){var t=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n};return(n+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,t)});var o=!0,r=null,u=null;i(function(){setTimeout(function(){i.fancybox.defaults.hash!==!1&&(i(n).on({"onInit.fb":function(n,t){var i,r;t.group[t.currIndex].opts.hash!==!1&&(i=f(),r=e(t),r&&i.gallery&&r==i.gallery&&(t.currIndex=i.index-1))},"beforeShow.fb":function(i,f,s){var h;s&&s.opts.hash!==!1&&(h=e(f),h&&""!==h&&(t.location.hash.indexOf(h)<0&&(f.opts.origHash=t.location.hash),r=h+(f.group.length>1?"-"+(s.index+1):""),"replaceState"in t.history?(u&&clearTimeout(u),u=setTimeout(function(){t.history[o?"pushState":"replaceState"]({},n.title,t.location.pathname+t.location.search+"#"+r);u=null;o=!1},300)):t.location.hash=r))},"beforeClose.fb":function(f,o,s){var h,c;u&&clearTimeout(u);s.opts.hash!==!1&&(h=e(o),c=o&&o.opts.origHash?o.opts.origHash:"",h&&""!==h&&("replaceState"in history?t.history.replaceState({},n.title,t.location.pathname+t.location.search+c):(t.location.hash=c,i(t).scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))),r=null)}}),i(t).on("hashchange.fb",function(){var n=f();i.fancybox.getInstance()?!r||r===n.gallery+"-"+n.index||1===n.index&&r==n.gallery||(r=null,i.fancybox.close()):""!==n.gallery&&s(n)}),s(f()))},50)})}(document,window,window.jQuery);_self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};Prism=function(){var i=/\blang(?:uage)?-(\w+)\b/i,u=0,n=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(i){return i instanceof t?new t(i.type,n.util.encode(i.content),i.alias):"Array"===n.util.type(i)?i.map(n.util.encode):i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(n){return Object.prototype.toString.call(n).match(/\[object (\w+)\]/)[1]},objId:function(n){return n.__id||Object.defineProperty(n,"__id",{value:++u}),n.__id},clone:function(t){var u=n.util.type(t),r,i;switch(u){case"Object":r={};for(i in t)t.hasOwnProperty(i)&&(r[i]=n.util.clone(t[i]));return r;case"Array":return t.map(function(t){return n.util.clone(t)})}return t}},languages:{extend:function(t,i){var r=n.util.clone(n.languages[t]);for(var u in i)r[u]=i[u];return r},insertBefore:function(t,i,r,u){var e,o,s,f;if(u=u||n.languages,e=u[t],2==arguments.length){r=arguments[1];for(f in r)r.hasOwnProperty(f)&&(e[f]=r[f]);return e}o={};for(s in e)if(e.hasOwnProperty(s)){if(s==i)for(f in r)r.hasOwnProperty(f)&&(o[f]=r[f]);o[s]=e[s]}return n.languages.DFS(n.languages,function(n,i){i===u[t]&&n!=t&&(this[n]=o)}),u[t]=o},DFS:function(t,i,r,u){u=u||{};for(var f in t)t.hasOwnProperty(f)&&(i.call(t,f,t[f],r||f),"Object"!==n.util.type(t[f])||u[n.util.objId(t[f])]?"Array"!==n.util.type(t[f])||u[n.util.objId(t[f])]||(u[n.util.objId(t[f])]=!0,n.languages.DFS(t[f],i,f,u)):(u[n.util.objId(t[f])]=!0,n.languages.DFS(t[f],i,null,u)))}},plugins:{},highlightAll:function(t,i){var r={callback:i,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'},u,f,e;for(n.hooks.run("before-highlightall",r),f=r.elements||document.querySelectorAll(r.selector),e=0;u=f[e++];)n.highlightElement(u,t===!0,r.callback)},highlightElement:function(t,r,u){for(var o,h,c,f,s,e=t;e&&!i.test(e.className);)e=e.parentNode;if(e&&(o=(e.className.match(i)||[,""])[1].toLowerCase(),h=n.languages[o]),t.className=t.className.replace(i,"").replace(/\s+/g," ")+" language-"+o,t.parentNode&&(e=t.parentNode,/pre/i.test(e.nodeName)&&(e.className=e.className.replace(i,"").replace(/\s+/g," ")+" language-"+o)),c=t.textContent,f={element:t,language:o,grammar:h,code:c},n.hooks.run("before-sanity-check",f),!f.code||!f.grammar)return f.code&&(n.hooks.run("before-highlight",f),f.element.textContent=f.code,n.hooks.run("after-highlight",f)),n.hooks.run("complete",f),void 0;(n.hooks.run("before-highlight",f),r&&_self.Worker)?(s=new Worker(n.filename),s.onmessage=function(t){f.highlightedCode=t.data;n.hooks.run("before-insert",f);f.element.innerHTML=f.highlightedCode;u&&u.call(f.element);n.hooks.run("after-highlight",f);n.hooks.run("complete",f)},s.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))):(f.highlightedCode=n.highlight(f.code,f.grammar,f.language),n.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,u&&u.call(t),n.hooks.run("after-highlight",f),n.hooks.run("complete",f))},highlight:function(i,r,u){var f=n.tokenize(i,r);return t.stringify(n.util.encode(f),u)},matchGrammar:function(t,i,r,u,f,e,o){var g=n.Token,a,v,b,et,c,l,p,s,k,ht;for(a in r)if(r.hasOwnProperty(a)&&r[a]){if(a==o)return;for(v=r[a],v="Array"===n.util.type(v)?v:[v],b=0;b<v.length;++b){var h=v[b],ut=h.inside,ft=!!h.lookbehind,nt=!!h.greedy,tt=0,ct=h.alias;for(nt&&!h.pattern.global&&(et=h.pattern.toString().match(/[imuy]*$/)[0],h.pattern=RegExp(h.pattern.source,et+"g")),h=h.pattern||h,c=u,l=f;c<i.length;l+=i[c].length,++c){if(p=i[c],i.length>t.length)return;if(!(p instanceof g)){if(h.lastIndex=0,s=h.exec(p),k=1,!s&&nt&&c!=i.length-1){if(h.lastIndex=l,s=h.exec(t),!s)break;for(var it=s.index+(ft?s[1].length:0),ot=s.index+s[0].length,y=c,w=l,lt=i.length;lt>y&&(ot>w||!i[y].type&&!i[y-1].greedy);++y)w+=i[y].length,it>=w&&(++c,l=w);if(i[c]instanceof g||i[y-1].greedy)continue;k=y-c;p=t.slice(l,w);s.index-=l}if(s){ft&&(tt=s[1].length);var it=s.index+tt,s=s[0].slice(tt),ot=it+s.length,rt=p.slice(0,it),st=p.slice(ot),d=[c,k];if(rt&&(++c,l+=rt.length,d.push(rt)),ht=new g(a,ut?n.tokenize(s,ut):s,ct,s,nt),d.push(ht),st&&d.push(st),Array.prototype.splice.apply(i,d),1!=k&&n.matchGrammar(t,i,r,c,l,!0,a),e)break}else if(e)break}}}}},tokenize:function(t,i){var f=[t],r=i.rest,u;if(r){for(u in r)i[u]=r[u];delete i.rest}return n.matchGrammar(t,f,i,0,0,!1),f},hooks:{all:{},add:function(t,i){var r=n.hooks.all;r[t]=r[t]||[];r[t].push(i)},run:function(t,i){var r=n.hooks.all[t],u,f;if(r&&r.length)for(f=0;u=r[f++];)u(i)}}},t=n.Token=function(n,t,i,r,u){this.type=n;this.content=t;this.alias=i;this.length=0|(r||"").length;this.greedy=!!u},r;return(t.stringify=function(i,r,u){var f,o,e;return"string"==typeof i?i:"Array"===n.util.type(i)?i.map(function(n){return t.stringify(n,r,i)}).join(""):(f={type:i.type,content:t.stringify(i.content,r,u),tag:"span",classes:["token",i.type],attributes:{},language:r,parent:u},i.alias&&(o="Array"===n.util.type(i.alias)?i.alias:[i.alias],Array.prototype.push.apply(f.classes,o)),n.hooks.run("wrap",f),e=Object.keys(f.attributes).map(function(n){return n+'="'+(f.attributes[n]||"").replace(/"/g,"&quot;")+'"'}).join(" "),"<"+f.tag+' class="'+f.classes.join(" ")+'"'+(e?" "+e:"")+">"+f.content+"<\/"+f.tag+">")},!_self.document)?_self.addEventListener?(n.disableWorkerMessageHandler||_self.addEventListener("message",function(t){var i=JSON.parse(t.data),r=i.language,u=i.code,f=i.immediateClose;_self.postMessage(n.highlight(u,n.languages[r],r));f&&_self.close()},!1),_self.Prism):_self.Prism:(r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop(),r&&(n.filename=r.src,n.manual||r.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),_self.Prism)}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism);"undefined"!=typeof global&&(global.Prism=Prism);Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.hooks.add("wrap",function(n){"entity"===n.type&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Prism.languages.xml=Prism.languages.markup;Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/};Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css);Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag));Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|\d*\.?\d+(?:[Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[[^\]\r\n]+]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)\s*=>))/i,alias:"function"}});Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}});Prism.languages.js=Prism.languages.javascript;!function(n){var i={variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee]-?\d+)?)\b/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[\w#?*!@]+|\{[^}]+\})/i]},t;n.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)["']?(\w+?)["']?\s*\r?\n(?:[\s\S])*?\r?\n\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,inside:i}],variable:i.variable,"function":{pattern:/(^|[\s;|&])(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|npm|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|[\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&])(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|[\s;|&])/,lookbehind:!0},boolean:{pattern:/(^|[\s;|&])(?:true|false)(?=$|[\s;|&])/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};t=i.variable[1].inside;t["function"]=n.languages.bash["function"];t.keyword=n.languages.bash.keyword;t.boolean=n.languages.bash.boolean;t.operator=n.languages.bash.operator;t.punctuation=n.languages.bash.punctuation}(Prism);!function(){if("undefined"!=typeof self&&self.Prism&&self.document){var t="line-numbers",n=function(n){var u=i(n),r=u["white-space"];if("pre-wrap"===r||"pre-line"===r){var f=n.querySelector("code"),e=n.querySelector(".line-numbers-rows"),t=n.querySelector(".line-numbers-sizer"),o=n.textContent.split("\n");t||(t=document.createElement("span"),t.className="line-numbers-sizer",f.appendChild(t));t.style.display="block";o.forEach(function(n,i){t.textContent=n||"\n";var r=t.getBoundingClientRect().height;e.children[i].style.height=r+"px"});t.textContent="";t.style.display="none"}},i=function(n){return n?window.getComputedStyle?getComputedStyle(n):n.currentStyle||null:null};window.addEventListener("resize",function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+t),n)});Prism.hooks.add("complete",function(t){var i,r;if(t.code&&(i=t.element.parentNode,r=/\s*\bline-numbers\b\s*/,i&&/pre/i.test(i.nodeName)&&(r.test(i.className)||r.test(t.element.className))&&!t.element.querySelector(".line-numbers-rows"))){r.test(t.element.className)&&(t.element.className=t.element.className.replace(r," "));r.test(i.className)||(i.className+=" line-numbers");var u,e=t.code.match(/\n(?!$)/g),o=e?e.length+1:1,f=new Array(o+1);f=f.join("<span><\/span>");u=document.createElement("span");u.setAttribute("aria-hidden","true");u.className="line-numbers-rows";u.innerHTML=f;i.hasAttribute("data-start")&&(i.style.counterReset="linenumber "+(parseInt(i.getAttribute("data-start"),10)-1));t.element.appendChild(u);n(i)}})}}(),function(){function h(t){this.tokens=[];this.tokens.links={};this.options=t||r.defaults;this.rules=n.normal;this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}function o(n,u){if(this.options=u||r.defaults,this.links=n,this.rules=t.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function i(n){this.options=n||{}}function e(n){this.tokens=[];this.token=null;this.options=n||r.defaults;this.options.renderer=this.options.renderer||new i;this.renderer=this.options.renderer;this.renderer.options=this.options}function u(n,t){return n.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(n){return n.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(n,t){return(t=t.toLowerCase(),t==="colon")?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function f(n,t){return n=n.source,t=t||"",function i(r,u){return r?(u=u.source||u,u=u.replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,u),i):new RegExp(n,t)}}function c(){}function s(n){for(var r=1,t,i;r<arguments.length;r++){t=arguments[r];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function r(n,t,i){var f,c,l,a,o;if(i||typeof t=="function"){i||(i=t,t=null);t=s({},r.defaults,t||{});f=t.highlight;a=0;try{c=h.lex(n,t)}catch(v){return i(v)}if((l=c.length,o=function(n){if(n)return t.highlight=f,i(n);var r;try{r=e.parse(c,t)}catch(u){n=u}return t.highlight=f,n?i(n):i(null,r)},!f||f.length<3)||(delete t.highlight,!l))return o();for(;a<c.length;a++)(function(n){return n.type!=="code"?--l||o():f(n.text,n.lang,function(t,i){if(t)return o(t);if(i==null||i===n.text)return--l||o();n.text=i;n.escaped=!0;--l||o()})})(c[a]);return}try{return t&&(t=s({},r.defaults,t)),e.parse(h.lex(n,t),t)}catch(v){if(v.message+="\nPlease report this to https://github.com/chjj/marked.",(t||r.defaults).silent)return"<p>An error occured:<\/p><pre>"+u(v.message+"",!0)+"<\/pre>";throw v;}}var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:c,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/},t;n.bullet=/(?:[*+-]|\d+\.)/;n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;n.item=f(n.item,"gm")(/bull/g,n.bullet)();n.list=f(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")();n.blockquote=f(n.blockquote)("def",n.def)();n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";n.html=f(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)();n.paragraph=f(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)();n.normal=s({},n);n.gfm=s({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});n.gfm.paragraph=f(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")();n.tables=s({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});h.rules=n;h.lex=function(n,t){var i=new h(t);return i.lex(n)};h.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)};h.prototype.token=function(t,i,r){for(var t=t.replace(/^ +$/gm,""),s,h,u,c,l,f,a,e,o;t;){if((u=this.rules.newline.exec(t))&&(t=t.substring(u[0].length),u[0].length>1&&this.tokens.push({type:"space"})),u=this.rules.code.exec(t)){t=t.substring(u[0].length);u=u[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:this.options.pedantic?u:u.replace(/\n+$/,"")});continue}if(u=this.rules.fences.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"code",lang:u[2],text:u[3]||""});continue}if(u=this.rules.heading.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"heading",depth:u[1].length,text:u[2]});continue}if(i&&(u=this.rules.nptable.exec(t))){for(t=t.substring(u[0].length),f={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/\n$/,"").split("\n")},e=0;e<f.align.length;e++)f.align[e]=/^ *-+: *$/.test(f.align[e])?"right":/^ *:-+: *$/.test(f.align[e])?"center":/^ *:-+ *$/.test(f.align[e])?"left":null;for(e=0;e<f.cells.length;e++)f.cells[e]=f.cells[e].split(/ *\| */);this.tokens.push(f);continue}if(u=this.rules.lheading.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"heading",depth:u[2]==="="?1:2,text:u[1]});continue}if(u=this.rules.hr.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"hr"});continue}if(u=this.rules.blockquote.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"blockquote_start"});u=u[0].replace(/^ *> ?/gm,"");this.token(u,i,!0);this.tokens.push({type:"blockquote_end"});continue}if(u=this.rules.list.exec(t)){for(t=t.substring(u[0].length),c=u[2],this.tokens.push({type:"list_start",ordered:c.length>1}),u=u[0].match(this.rules.item),s=!1,o=u.length,e=0;e<o;e++)f=u[e],a=f.length,f=f.replace(/^ *([*+-]|\d+\.) +/,""),~f.indexOf("\n ")&&(a-=f.length,f=this.options.pedantic?f.replace(/^ {1,4}/gm,""):f.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&e!==o-1&&(l=n.bullet.exec(u[e+1])[0],c===l||c.length>1&&l.length>1||(t=u.slice(e+1).join("\n")+t,e=o-1)),h=s||/\n\n(?!\s*$)/.test(f),e!==o-1&&(s=f.charAt(f.length-1)==="\n",h||(h=s)),this.tokens.push({type:h?"loose_item_start":"list_item_start"}),this.token(f,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(u=this.rules.html.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(u[1]==="pre"||u[1]==="script"||u[1]==="style"),text:u[0]});continue}if(!r&&i&&(u=this.rules.def.exec(t))){t=t.substring(u[0].length);this.tokens.links[u[1].toLowerCase()]={href:u[2],title:u[3]};continue}if(i&&(u=this.rules.table.exec(t))){for(t=t.substring(u[0].length),f={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/(?: *\| *)?\n$/,"").split("\n")},e=0;e<f.align.length;e++)f.align[e]=/^ *-+: *$/.test(f.align[e])?"right":/^ *:-+: *$/.test(f.align[e])?"center":/^ *:-+ *$/.test(f.align[e])?"left":null;for(e=0;e<f.cells.length;e++)f.cells[e]=f.cells[e].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(f);continue}if(i&&(u=this.rules.paragraph.exec(t))){t=t.substring(u[0].length);this.tokens.push({type:"paragraph",text:u[1].charAt(u[1].length-1)==="\n"?u[1].slice(0,-1):u[1]});continue}if(u=this.rules.text.exec(t)){t=t.substring(u[0].length);this.tokens.push({type:"text",text:u[0]});continue}if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));}return this.tokens};t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};t._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;t._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;t.link=f(t.link)("inside",t._inside)("href",t._href)();t.reflink=f(t.reflink)("inside",t._inside)();t.normal=s({},t);t.pedantic=s({},t.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});t.gfm=s({},t.normal,{escape:f(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:f(t.text)("]|","~]|")("|","|https?://|")()});t.breaks=s({},t.gfm,{br:f(t.br)("{2,}","*")(),text:f(t.gfm.text)("{2,}","*")()});o.rules=t;o.output=function(n,t,i){var r=new o(t,i);return r.output(n)};o.prototype.output=function(n){for(var i="",f,r,e,t;n;){if(t=this.rules.escape.exec(n)){n=n.substring(t[0].length);i+=t[1];continue}if(t=this.rules.autolink.exec(n)){n=n.substring(t[0].length);t[2]==="@"?(r=t[1].charAt(6)===":"?this.mangle(t[1].substring(7)):this.mangle(t[1]),e=this.mangle("mailto:")+r):(r=u(t[1]),e=r);i+=this.renderer.link(e,null,r);continue}if(!this.inLink&&(t=this.rules.url.exec(n))){n=n.substring(t[0].length);r=u(t[1]);e=r;i+=this.renderer.link(e,null,r);continue}if(t=this.rules.tag.exec(n)){!this.inLink&&/^<a /i.test(t[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(t[0])&&(this.inLink=!1);n=n.substring(t[0].length);i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]):t[0];continue}if(t=this.rules.link.exec(n)){n=n.substring(t[0].length);this.inLink=!0;i+=this.outputLink(t,{href:t[2],title:t[3]});this.inLink=!1;continue}if((t=this.rules.reflink.exec(n))||(t=this.rules.nolink.exec(n))){if(n=n.substring(t[0].length),f=(t[2]||t[1]).replace(/\s+/g," "),f=this.links[f.toLowerCase()],!f||!f.href){i+=t[0].charAt(0);n=t[0].substring(1)+n;continue}this.inLink=!0;i+=this.outputLink(t,f);this.inLink=!1;continue}if(t=this.rules.strong.exec(n)){n=n.substring(t[0].length);i+=this.renderer.strong(this.output(t[2]||t[1]));continue}if(t=this.rules.em.exec(n)){n=n.substring(t[0].length);i+=this.renderer.em(this.output(t[2]||t[1]));continue}if(t=this.rules.code.exec(n)){n=n.substring(t[0].length);i+=this.renderer.codespan(u(t[2],!0));continue}if(t=this.rules.br.exec(n)){n=n.substring(t[0].length);i+=this.renderer.br();continue}if(t=this.rules.del.exec(n)){n=n.substring(t[0].length);i+=this.renderer.del(this.output(t[1]));continue}if(t=this.rules.text.exec(n)){n=n.substring(t[0].length);i+=this.renderer.text(u(this.smartypants(t[0])));continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));}return i};o.prototype.outputLink=function(n,t){var i=u(t.href),r=t.title?u(t.title):null;return n[0].charAt(0)!=="!"?this.renderer.link(i,r,this.output(n[1])):this.renderer.image(i,r,u(n[1]))};o.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n};o.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var r="",u=n.length,i=0,t;i<u;i++)t=n.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r};i.prototype.code=function(n,t,i){if(this.options.highlight){var r=this.options.highlight(n,t);r!=null&&r!==n&&(i=!0,n=r)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(i?n:u(n,!0))+"\n<\/code><\/pre>\n":"<pre><code>"+(i?n:u(n,!0))+"\n<\/code><\/pre>"};i.prototype.blockquote=function(n){return"<blockquote>\n"+n+"<\/blockquote>\n"};i.prototype.html=function(n){return n};i.prototype.heading=function(n,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"<\/h"+t+">\n"};i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};i.prototype.list=function(n,t){var i=t?"ol":"ul";return"<"+i+">\n"+n+"<\/"+i+">\n"};i.prototype.listitem=function(n){return"<li>"+n+"<\/li>\n"};i.prototype.paragraph=function(n){return"<p>"+n+"<\/p>\n"};i.prototype.table=function(n,t){return"<table>\n<thead>\n"+n+"<\/thead>\n<tbody>\n"+t+"<\/tbody>\n<\/table>\n"};i.prototype.tablerow=function(n){return"<tr>\n"+n+"<\/tr>\n"};i.prototype.tablecell=function(n,t){var i=t.header?"th":"td",r=t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">";return r+n+"<\/"+i+">\n"};i.prototype.strong=function(n){return"<strong>"+n+"<\/strong>"};i.prototype.em=function(n){return"<em>"+n+"<\/em>"};i.prototype.codespan=function(n){return"<code>"+n+"<\/code>"};i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};i.prototype.del=function(n){return"<del>"+n+"<\/del>"};i.prototype.link=function(n,t,i){var r,u;if(this.options.sanitize){try{r=decodeURIComponent(l(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(f){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return""}return u='<a href="'+n+'"',t&&(u+=' title="'+t+'"'),u+(">"+i+"<\/a>")};i.prototype.image=function(n,t,i){var r='<img src="'+n+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")};i.prototype.text=function(n){return n};e.parse=function(n,t,i){var r=new e(t,i);return r.parse(n)};e.prototype.parse=function(n){this.inline=new o(n.links,this.options,this.renderer);this.tokens=n.reverse();for(var t="";this.next();)t+=this.tok();return t};e.prototype.next=function(){return this.token=this.tokens.pop()};e.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};e.prototype.parseText=function(){for(var n=this.token.text;this.peek().type==="text";)n+="\n"+this.next().text;return this.inline.output(n)};e.prototype.tok=function(){var u,t,f,i,s,r,e,n,o;switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(u="",n="",i="",t=0;t<this.token.header.length;t++)s={header:!0,align:this.token.align[t]},i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(u+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(f=this.token.cells[t],i="",r=0;r<f.length;r++)i+=this.renderer.tablecell(this.inline.output(f[r]),{header:!1,align:this.token.align[r]});n+=this.renderer.tablerow(i)}return this.renderer.table(u,n);case"blockquote_start":for(n="";this.next().type!=="blockquote_end";)n+=this.tok();return this.renderer.blockquote(n);case"list_start":for(n="",e=this.token.ordered;this.next().type!=="list_end";)n+=this.tok();return this.renderer.list(n,e);case"list_item_start":for(n="";this.next().type!=="list_item_end";)n+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(n);case"loose_item_start":for(n="";this.next().type!=="list_item_end";)n+=this.tok();return this.renderer.listitem(n);case"html":return o=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text,this.renderer.html(o);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};c.exec=c;r.options=r.setOptions=function(n){return s(r.defaults,n),r};r.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1};r.Parser=e;r.parser=e.parse;r.Renderer=i;r.Lexer=h;r.lexer=h.lex;r.InlineLexer=o;r.inlineLexer=o.output;r.parse=r;typeof module!="undefined"&&typeof exports=="object"?module.exports=r:typeof define=="function"&&define.amd?define(function(){return r}):this.marked=r}.call(function(){return this||(typeof window!="undefined"?window:global)}());site={insertText:function(n,t){var r;if(document.selection)r=document.selection.createRange(),r.text=t;else if(typeof n.selectionStart=="number"&&typeof n.selectionEnd=="number"){var u=n.selectionStart,e=n.selectionEnd,f=u,i=n.value;n.value=i.substring(0,u)+t+i.substring(e,i.length);f+=t.length;n.selectionStart=n.selectionEnd=f}else n.value+=t},handleUpload:function(){$("#upload").click(function(){$("#files").click()});$("#files").change(function(){var r=$(this).data("type"),u=$("#files").get(0),i=u.files,t,n;if(u.files.length>0){for(t=new FormData,n=0;n<i.length;n++)t.append(i[n].name,i[n]);t.append("type",r);$.ajax({type:"POST",url:"/UploadFiles",contentType:!1,processData:!1,data:t,success:function(n){var t,i;console.log(n.message);($("#Content").length>0||$("#comment_Content").length>0)&&(t="",$(n.fileResults).each(function(n,i){t+="\n ![]("+i+")"}),i=$("#Content").length>0?$("#Content"):$("#comment_Content"),site.insertText(i[0],t));r.indexOf("gallery")!=-1&&window.location.reload()},error:function(){alert("There was error uploading files!")}})}})},handleNavToggle:function(){$(".head-nav-toggle > button").click(function(){$(".head-nav-list").slideToggle("fast")})},handleBackToTop:function(){var t=200,n=$(".back-to-top");$(window).on("scroll",function(){n.toggleClass("back-to-top-on",window.pageYOffset>t);var r=$(window).scrollTop(),u=$("#content").height(),f=$(window).height(),e=r/(u-f),i=Math.round(e*100),o=i>100?100:i;$("#scrollpercent>span").html(o)});n.on("click",function(){$("html,body").animate({scrollTop:0},"slow")})},handleFaccybox:function(){!$().fancybox||($(".echo img").each(function(){var n=$(this),t=n.closest("article").attr("id"),i=n.attr("src"),r=n.parent();$("<a href='"+i+"' class='fancybox' data-fancybox='"+t+"'><\/a>").append(n).appendTo(r)}),$("[data-fancybox]").fancybox({protect:!0}))},handleLazyload:function(){!$().lazyload||$("img.lazy").lazyload({effect:"fadeIn"})},handleCodePre:function(){$("pre").each(function(){$(this).addClass("line-numbers")})},handleMarkdown:function(){if($("#Content").length>0){var n=new marked.Renderer;marked.setOptions({renderer:n,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1});$("#Content").on("keyup blur",function(){$("#html-preview").html(marked($("#Content").val()))});$("#Content").keyup()}},handleForm:function(n,t,i){n="#"+n;$(n).length>0&&$(n).submit(function(){var n=$(this).attr("action"),r=$(this).serialize();return $.ajax({type:"POST",dataType:t,url:n,data:r,success:i,error:function(n){console.log("error:"+n.responseText)}}),!1})},handlePostForm:function(){site.handleForm("post-form","json",function(n){alert(n.message);n.isSuccess==!0&&(window.location="/Admin/PostEdit/"+n.data.id)});$(".post-remove").click(function(){var t=$(this),n;confirm("are you sure you want to delete this post?")&&(n=t.data("id"),$.post("/Admin/PostDelete?postId="+n).done(function(){window.location="/Admin/PostEdit"}))})},handleGalleryForm:function(){site.handleForm("gallery-form","json",function(n){alert(n.message);n.isSuccess==!0&&(window.location="/Admin/GalleryEdit/"+n.data.id)});$(".photo-form").each(function(){var n=$(this).attr("id");site.handleForm(n,"json",function(n){alert(n.message);n.isSuccess==!0&&(window.location="/Admin/GalleryEdit/"+n.data.sourceID)})});$(".gallery-remove").click(function(){var t=$(this),n;confirm("are you sure you want to delete this gallery?")&&(n=t.data("id"),$.post("/Admin/GalleryDelete?galleryId="+n).done(function(){window.location="/Admin/GalleryEdit"}))});$(".photo-remove").click(function(){var n=$(this),t;confirm("are you sure you want to delete this photo?")&&(t=n.data("photo"),$.post("/Admin/PhotoDelete?photoId="+t).done(function(){n.closest("li").remove()}))})},handleCommentForm:function(){site.handleForm("comments-form","html",function(n){$("#comments-tips").remove();var t=$("#comments-list");$("html,body").animate({scrollTop:t.offset().top-200},800).promise().done(function(){var i=$(n).hide();t.prepend(i);i.fadeIn()})});$(".comment-remove").click(function(){var n=$(this),t;confirm("are you sure you want to delete this comment?")&&(t=n.data("id"),$.post("/Admin/CommentDelete?commentId="+t).done(function(){n.parent().parent().remove()}))});$(".comment-approve").click(function(){var n=$(this),t;confirm("are you sure you want to approve this comment?")&&(t=n.data("id"),$.post("/Admin/CommentApproved?commentId="+t).done(function(){n.remove()}))})},handleCommentList:function(){$("#CommentSourceID").length>0&&($(window).bind("scroll",function(){var n=$(this).scrollTop(),t=$(document).height(),i=$(this).height();n+i==t&&($(window).unbind("scroll"),site.ajaxLoadCommentList(1))}),$("#post-comments").delegate("a.page-number","click",function(){var n=$(this).attr("href").replace("#/","");return site.ajaxLoadCommentList(n),!1}))},ajaxLoadCommentList:function(n){var t=$("#CommentSourceID").val(),i="/comments/"+t+"/"+n;$.ajax({type:"POST",dataType:"html",url:i,success:function(n){$("#post-comments").html(n)},error:function(n){console.log("error:"+n.responseText)}})}};$(function(){site.handleUpload();site.handleNavToggle();site.handleBackToTop();site.handleFaccybox();site.handleLazyload();site.handleCodePre();site.handleMarkdown();site.handlePostForm();site.handleGalleryForm();site.handleCommentForm();site.handleCommentList()});